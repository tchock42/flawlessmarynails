{"version":3,"sources":["main.js"],"names":["t","216","document","addEventListener","e","id","nombre","idCarrito","o","querySelector","a","async","console","log","FormData","append","fetch","method","body","json","s","JSON","parse","localStorage","getItem","p","querySelectorAll","u","getElementById","n","target","dataset","parentElement","textContent","trim","imagen","src","precio","find","alert","c","classList","add","innerText","l","d","r","fecha","Date","getUTCFullYear","getUTCMonth","slice","getUTCDate","getUTCHours","getUTCMinutes","getUTCSeconds","i","firstChild","removeChild","length","forEach","createElement","productoDetalles","onclick","filter","remove","m","appendChild","reduce","parseInt","Intl","NumberFormat","style","currency","format","marginRight","opacity","height","width","setItem","stringify","map","265","L","setView","tileLayer","attribution","addTo","marker","bindPopup","openPopup","exports","__esModule","default","Object","defineProperty","enumerable","get","prototype","hasOwnProperty","call"],"mappings":"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","file":"bundle.js","sourcesContent":["(()=>{var t={216:()=>{document.addEventListener(\"DOMContentLoaded\",(function(){let t=[];const e={id:\"\",nombre:\"\",idCarrito:\"\"},o=document.querySelector(\"#carrito__items\"),a=document.querySelector(\".carrito__total__cantidad\");if(o){!async function(){console.log(\"buscando usuario\");const t=new FormData;t.append(\"nombre\",\"JAcob\");const e=await fetch(\"http://localhost:3000/api/cargar\",{method:\"POST\",body:t}),o=await e.json();console.log(o)}();const s=JSON.parse(localStorage.getItem(\"carritoFMN\"));t=s;const p=document.querySelectorAll(\".producto__agregar\"),u=document.getElementById(\"carrito__pagar\");function n(o){const a={id:o.target.dataset.id,nombre:o.target.parentElement.querySelector(\".producto__resumen\").querySelector(\"H3\").textContent.trim(),imagen:o.target.parentElement.querySelector(\"IMG\").src,precio:o.target.parentElement.querySelector(\".producto__resumen\").querySelector(\"H4\").querySelector(\"SPAN\").textContent.trim()},n=t.find((t=>t.id===o.target.dataset.id));if(n)return void alert(\"El producto ya se encuentra en el carrito\");t=[...t,a];const c=o.target;c.classList.add(\"selected\"),c.innerText=\"Agregado al carrito\",l(),d(),r(),fecha=new Date,fecha=fecha.getUTCFullYear()+\"-\"+(\"00\"+(fecha.getUTCMonth()+1)).slice(-2)+\"-\"+(\"00\"+fecha.getUTCDate()).slice(-2)+\" \"+(\"00\"+fecha.getUTCHours()).slice(-2)+\":\"+(\"00\"+fecha.getUTCMinutes()).slice(-2)+\":\"+(\"00\"+fecha.getUTCSeconds()).slice(-2),async function(t){const o=new FormData;o.append(\"fecha\",fecha),o.append(\"estado\",0);const a=await fetch(\"http://localhost:3000/api/carrito\",{method:\"POST\",body:o}),n=await a.json();e.idCarrito=n.id;console.log(\"Agregando articulo\");const r=new FormData;r.append(\"id_carrito\",e.idCarrito),r.append(\"id_producto\",t.id),r.append(\"cantidad\",1),r.append(\"precio_unitario\",t.precio),r.append(\"subtotal\",1*+t.precio),console.log([...r]);const c=await fetch(\"http://localhost:3000/api/producto\",{method:\"POST\",body:r}),i=await c.json();console.log(i)}(a)}function r(){if(function(){for(;o.firstChild;)o.removeChild(o.firstChild),a.textContent=\"$0.00\"}(),t.length>0)t.forEach((e=>{const n=document.createElement(\"DIV\");n.classList.add(\"carrito__item\");const d=document.createElement(\"IMG\");d.classList.add(\"carrito__item__img\"),d.src=e.imagen,productoDetalles=document.createElement(\"DIV\"),productoDetalles.classList.add(\"carrito__item__detalles\");const s=document.createElement(\"SPAN\");s.classList.add(\"carrito__item__titulo\"),s.textContent=e.nombre;const p=document.createElement(\"SPAN\");p.classList.add(\"carrito__item__precio\"),p.textContent=c(e.precio);const u=document.createElement(\"SPAN\");u.classList.add(\"carrito__item__eliminar\"),u.onclick=function(){!async function(e){t=t.filter((t=>t.id!==e));const o=document.querySelector(`[data-id = \"${e}\"]`);o.classList.remove(\"selected\"),o.innerText=\"Agregar al Carrito\",console.log(\"Eliminando producto\");const a=new FormData;a.append(\"id_producto\",e),console.log([...a]);const n=await fetch(\"http://localhost:3000/api/eliminar\",{method:\"POST\",body:a}),c=await n.json();console.log(c),r(),i(),l()}(e.id)};const m=document.createElement(\"I\");m.classList.add(\"fa-solid\",\"fa-trash\"),productoDetalles.appendChild(s),productoDetalles.appendChild(p),u.appendChild(m),n.appendChild(d),n.appendChild(productoDetalles),n.appendChild(u),o.appendChild(n),function(){const e=t.reduce(((t,e)=>t+parseInt(e.precio)),0);a.textContent=c(e)}()}));else{const t=document.createElement(\"P\");t.textContent=\"No hay elementos en tu Carrito\",t.classList.add(\"carrito__item__empty\"),o.appendChild(t)}}function c(t){return new Intl.NumberFormat(\"en-US\",{style:\"currency\",currency:\"USD\"}).format(t)}function i(){if(0===t.length){var e=document.getElementById(\"carrito\");e.style.marginRight=\"-100%\",e.style.opacity=\"0\",e.style.height=\"0\",document.getElementById(\"tienda__listado\").style.width=\"100%\"}}function d(){if(t.length>0){var e=document.getElementById(\"carrito\");e.style.marginRight=\"0\",e.style.opacity=\"1\",e.style.height=\"auto\",document.getElementById(\"tienda__listado\").style.width=\"100%\"}}function l(){localStorage.setItem(\"carritoFMN\",JSON.stringify(t))}p.forEach((t=>t.addEventListener(\"click\",n))),0===t.length?i():(d(),r(),t.forEach((t=>{const e=document.querySelector(`[data-id = \"${t.id}\"]`);e.classList.add(\"selected\"),e.innerText=\"Agregado al Carrito\"}))),u.addEventListener(\"click\",(function(){t.map((t=>t.id)),console.log(\"Pagando...\")}))}}))},265:()=>{document.addEventListener(\"DOMContentLoaded\",(function(){!function(){if(document.querySelector(\"#mapa\")){const t=19.4923279,e=-99.0586138,o=16,a=L.map(\"mapa\").setView([t,e],o);L.tileLayer(\"https://tile.openstreetmap.org/{z}/{x}/{y}.png\",{attribution:'&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors'}).addTo(a),L.marker([t,e]).addTo(a).bindPopup('\\n                <h2 class = \"mapa__heading\">Flawless Mary Nails</h2>\\n                <p class = \"mapa__texto\">Nail Artist</p>\\n            ').openPopup()}}()}))}},e={};function o(a){var n=e[a];if(void 0!==n)return n.exports;var r=e[a]={exports:{}};return t[a](r,r.exports,o),r.exports}o.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return o.d(e,{a:e}),e},o.d=(t,e)=>{for(var a in e)o.o(e,a)&&!o.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})},o.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{\"use strict\";o(265),o(216)})()})();"]}